# Indiana TANF edge case tests

# Edge case: Earner at exactly $90 (work expense disregard boundary)
- name: Earner at exactly $90 - all income disregarded for eligibility
  period: 2024-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 90
      person2:
        age: 10
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: IN
  output:
    in_tanf_countable_earned_income_for_eligibility: [0, 0]
    # $90 - $90 = $0; $0 - $30 = $0; $0 * 0.67 = $0
    in_tanf_countable_earned_income: [22.5, 22.5]
    # $90 * 0.25 = $22.50

# Edge case: Earner at exactly $120 ($90 + $30 disregard boundary)
- name: Earner at exactly $120 - flat disregard exactly zeros remainder
  period: 2024-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 120
      person2:
        age: 10
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: IN
  output:
    in_tanf_countable_earned_income_for_eligibility: [0, 0]
    # $120 - $90 = $30; $30 - $30 = $0; $0 * 0.67 = $0

# Edge case: Family of 8 (max pre-reform) vs family of 9
- name: Family of 8 gets size-8 standard pre-reform
  period: 2020-01
  input:
    spm_unit_size: 8
    state_code: IN
  output:
    in_tanf_payment_standard: 580

- name: Family of 9 gets size-9 standard pre-reform
  period: 2020-01
  input:
    spm_unit_size: 9
    state_code: IN
  output:
    in_tanf_payment_standard: 639

# Edge case: Family of 10 post-reform gets size-10 value
- name: Family of 10 gets size-10 standard post-reform
  period: 2024-01
  input:
    spm_unit_size: 10
    state_code: IN
  output:
    in_tanf_payment_standard: 775

# Edge case: Family of 12 capped at max unit size post-reform
- name: Family of 12 capped at size-10 post-reform
  period: 2024-01
  input:
    spm_unit_size: 12
    state_code: IN
  output:
    in_tanf_payment_standard: 775

# Edge case: Income just below eligibility threshold
- name: Income just below standard of need threshold
  period: 2024-01
  input:
    in_tanf_countable_income_for_eligibility: 319
    in_tanf_payment_standard: 320
    is_tanf_enrolled: false
    state_code: IN
  output:
    in_tanf_countable_income_eligible: true
    # $319 < $320 = true

# Edge case: Income at exactly the threshold
- name: Income at exactly standard of need threshold
  period: 2024-01
  input:
    in_tanf_countable_income_for_eligibility: 320
    in_tanf_payment_standard: 320
    is_tanf_enrolled: false
    state_code: IN
  output:
    in_tanf_countable_income_eligible: false
    # $320 < $320 = false (strict less-than)

# Edge case: Resources at exactly the application limit
- name: Resources at exactly $1,000 application limit
  period: 2024-01
  input:
    state_code: IN
    in_tanf_countable_resources: 1_000
    is_tanf_enrolled: false
  output:
    in_tanf_resources_eligible: true
    # $1,000 <= $1,000 = true

# Edge case: Resources $1 over application limit
- name: Resources $1 over application limit
  period: 2024-01
  input:
    state_code: IN
    in_tanf_countable_resources: 1_001
    is_tanf_enrolled: false
  output:
    in_tanf_resources_eligible: false

# Edge case: Resources at exactly enrolled limit
- name: Resources at exactly $10,000 enrolled limit
  period: 2024-01
  input:
    state_code: IN
    in_tanf_countable_resources: 10_000
    is_tanf_enrolled: true
  output:
    in_tanf_resources_eligible: true

# Edge case: Benefit equals exactly $1 (near-zero benefit)
- name: Benefit of exactly $1
  period: 2024-01
  input:
    in_tanf_eligible: true
    in_tanf_payment_standard: 320
    in_tanf_countable_income_for_payment: 319
    state_code: IN
  output:
    in_tanf: 1
